<!-- product_loop is the jinja for loop variable -->
<!-- The following code snippet determines bootstrap column widths -->
{% if product_loop.length in [2,8] %}
    {% set col_width = 'col-sm-6' %}
{% elif product_loop.length in [4] %}
    {% set col_width = 'col-sm-6 col-lg-3' %}
{% elif product_loop.length in [3,5,6,7] %}
    {% set col_width = 'col-sm-4' %}
{% endif %}
<div class="plan text-center col-centered col-xs-10 col-xs-offset-0 col-sm-offset-0 {{ col_width }}">
  <section class="box-choose subscribe">
    <figure data-barley="{% if gift %}gift.{% endif %}product.{{ product.id }}.img" data-barley-editor="image-logo">{{ product | object_img_tag }}</figure>
    <h4 data-barley="{% if gift %}gift.{% endif %}product.{{ product.id }}.name" data-barley-editor="simple" class="subheading">{{ product.name | safe}}</h4>
    <a type="button" class="btn btn-primary fullsize" href="{{ product | product_subscribe_url(gift=gift) }}" data-barley="{% if gift %}gift.{% endif %}product.{{ product.id }}.sub_button_text" data-barley-editor="linkedit">SUBSCRIBE</a>
  </section>
</div>
